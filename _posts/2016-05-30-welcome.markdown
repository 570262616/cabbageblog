---
layout: post
title:  "Welcome!"
date:   2016-05-30 16:33:25 +0800
description: Just Test Page
categories: Home
---

Just test!

---

Nothing!
目前什么都没有,只是测试一下而已...

### Swift Example

```javascript
import Foundation

public protocol SelectionSource: class {
    
    associatedtype ObjectType: Hashable
    
    var objects: [ObjectType] { get }
}

public struct Selection<O: Hashable, S: SelectionSource where O == S.ObjectType> {
    
    weak public var source: S? {
        didSet {
            self.updateSelectionIfSourceAvaiable()
        }
    }
    
    internal(set) public var selection: Set<O> = Set<O>()
    
    public init() {
        
    }
    
    public var selectedCount: Int { return self.selection.count }
    
    public func isSelected(object: O) -> Bool {
        return self.selection.contains(object)
    }
    
    public mutating func setSelected(selected: Bool, forObject object: O) {
        if selected {
            self.selection.insert(object)
        } else {
            self.selection.remove(object)
        }
    }
    
    public mutating func updateSelectionIfSourceAvaiable() {
        guard let source = self.source else { return }
        
        self.selection.intersectInPlace(source.objects)
    }
    
    public var isAllSelected: Bool {
        
        get {
            guard let count = self.source?.objects.count where count > 0 else { return false }
            
            return self.selection.count == count
        }
        
        set {
            guard let source = self.source else { return }
            
            self.selection = Set(source.objects)
        }
    }
    
}

extension Selection {

    public mutating func select(object: O) {
        self.setSelected(true, forObject: object)
    }
    
    public mutating func deselect(object: O) {
        self.setSelected(false, forObject: object)
    }
    
    public mutating func removeAll() {
        self.selection.removeAll()
    }
}
```
